<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, user-scalable=no">
		<script src="ImageCrop.js"></script>
		<script type="text/javascript">
			var fileSelect = function(evt) {
				'use strict';

    			if (window.File && window.FileReader && window.FileList && window.Blob) {
        			var files = evt.target.files;
 			 
        			var result = '';
        			var file;
        			for (var i = 0; file = files[i]; i++) {
            			if (!file.type.match('image.*')) {
                			continue;
            			}

						IC.read(file);
        			}
    			} else {
        			alert('The File APIs are not fully supported in this browser.');
    			}

			};
		</script>
		<style type="text/css">
			<!--
			#target {
				width: 250px;
				height: 250px;
				margin: 20px auto;
			}

			canvas {
				border: 3px solid black;
				border-radius: 10px;
			}
			-->
		</style>
	</head>
	<body>
		<input type="file" id="file-upload" />
		<output id="filesInfo">
			<div id="target"></div>
		</output>

		<script type="text/javascript">
			document.getElementById('file-upload').addEventListener(
				'change', fileSelect, false
			);

			window.IC = new ImageCrop(document.getElementById('target'), {
				outputWidth: 500,
				outputHeight: 500
			});
		</script>
	</body>
</html>
